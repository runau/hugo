---
title: "MYSQLを立てる"
date: 2020-04-27T00:19:04+09:00
meta_image: "posts/meta_image/20200427_morning.png"
tags: 
    - RDS
    - mysql
    - EC2
categories: 
    - 資格
description: "ツイート感覚で適当に書く技術ブログ。静的サイトジェネレーターhugoをs3に載せて、月額運用費5円で運用するブログ。毎日のただの作業記録をツイートのように書いていきますw"
draft: true
---


## vpcを作る

### vpc

work-vpc
10.0.0.0/16

### InternetGatewa

work-igw

### IGW Attach

work-igw、work-vpc

### subnet

|  name |  CIDR  | az |
| ---- | ---- | ---- |
|  work-public-subnet-a  |  10.0.0.0/24 | ap-northeast-1a |
|  work-public-subnet-c  |  10.0.1.0/24 | ap-northeast-1c |
|  work-private-subnet-a  |  10.0.100.0/24 | ap-northeast-1a |
|  work-private-subnet-c  |  10.0.101.0/24 | ap-northeast-1c |

### RouteTable

|  name |
| ---- |
|  work-public-route-a  |
|  work-public-route-c  | 
|  work-private-route-a  | 
|  work-private-route-c  | 

### Routing

|  name |  送信先  | ターゲット |
| ---- | ---- | ---- |
|  work-public-subnet-a  |  0.0.0.0/0 | work-igw |
|  work-public-subnet-c  |  0.0.0.0/0 | work-igw |

### RouteTable Associate

|  route |  subnet  |
| ---- | ---- | 
| work-public-route-a |  work-public-subnet-a  | 
| work-public-route-c |  work-public-subnet-c  | 
| work-private-route-a |  work-private-subnet-a  | 
| work-private-route-c |  work-private-subnet-c  | 


ssh -i "~/.ssh/test-elt-ec2.pem" ec2-user@13.231.83.101

vim ~/.ssh/test-elt-ec2.pem
chmod 600 ~/.ssh/test-elt-ec2.pem
ssh -i "~/.ssh/test-elt-ec2.pem" ec2-user@10.0.100.193

sudo yum install -y httpd
httpd -v

sudo systemctl start httpd
systemctl status httpd
sudo systemctl stop httpd
systemctl status httpd

sudo systemctl enable httpd.service
systemctl list-unit-files httpd.service

yum install  mysql
mysql -h cm-aurora-instance-1.cxhyds0avgup.ap-northeast-1.rds.amazonaws.com -u admin -pWelcome1

aws sns create-topic --name my-topic

aws sns subscribe --topic-arn arn:aws:sns:ap-northeast-1:908725951096:my-topic --protocol sqs \
--notification-endpoint arn:aws:sqs:ap-northeast-1:908725951096:test-que

aws sns publish --topic-arn arn:aws:sns:ap-northeast-1:908725951096:my-topic --message "Hello World!"

aws sqs send-message --queue-url "https://sqs.ap-northeast-1.amazonaws.com/908725951096/test-que" --message-body "Hello SQS" 

aws sqs receive-message \
 --queue-url "https://sqs.ap-northeast-1.amazonaws.com/908725951096/test-que"

aws sns publish --topic-arn arn:aws:sns:ap-northeast-1:908725951096:my-topic --message "`mpstat`"

yum list installed | grep -i python3
python3
sudo yum install python3 -y


https://docs.aws.amazon.com/ja_jp/cli/latest/userguide/cli-services-sns.html
snsとtopicのところ


https://qiita.com/hikouki/items/e744b3a4d356d2af12cf
crontabのところ

sudo su -

yum install -y httpd
httpd -v

systemctl start httpd
systemctl status httpd

chkconfig httpd on
chkconfig --list httpd
/sbin/chkconfig --list
/sbin/service サービス名 start 

yum install  mysql
mysql -h cm-aurora-instance-1.cxhyds0avgup.ap-northeast-1.rds.amazonaws.com -u admin -pWelcome1




$ aws sqs create-queue --queue-name test-que \
> --region ap-northeast-1 \
> --endpoint-url https://sqs.ap-northeast-1.amazonaws.com
Unable to locate credentials. You can configure credentials by running "aws configure".
[ec2-user@ip-10-1-10-156 ~]$ aws configure
AWS Access Key ID [None]: AKIA5HFCJTJ4BTMN664R
AWS Secret Access Key [None]: 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
Default region name [None]: ap-northeast-1
Default output format [None]: json
[ec2-user@ip-10-1-10-156 ~]$ aws sqs create-queue --queue-name test-que --region ap-northeast-1 --endpoint-url https://sqs.ap-northeast-1.amazonaws.com
{
    "QueueUrl": "https://sqs.ap-northeast-1.amazonaws.com/908725951096/test-que"
}
[ec2-user@ip-10-1-10-156 ~]$ aws sqs send-message \
> --queue-url "https://sqs.ap-northeast-1.amazonaws.com/999999999999/test-que" \
> --message-body "Hello SQS" \
> 

An error occurred (InvalidAddress) when calling the SendMessage operation: The address https://ap-northeast-1.queue.amazonaws.com/ is not valid for this endpoint.
[ec2-user@ip-10-1-10-156 ~]$ aws sqs send-message --queue-url "https://sqs.ap-northeast-1.amazonaws.com/999999999999/test-que" --message-body "Hello SQS" 

An error occurred (InvalidAddress) when calling the SendMessage operation: The address https://ap-northeast-1.queue.amazonaws.com/ is not valid for this endpoint.
[ec2-user@ip-10-1-10-156 ~]$ 
[ec2-user@ip-10-1-10-156 ~]$ aws sqs send-message --queue-url "https://sqs.ap-northeast-1.amazonaws.com/908725951096/test-que" --message-body "Hello SQS" 
{
    "MD5OfMessageBody": "5cf7495f9a4dc80d179fe9f6f201b486", 
    "MessageId": "afff37da-e795-437a-8f7e-0cb70a7e419b"
}
[ec2-user@ip-10-1-10-156 ~]$ aws sqs receive-message \
> --queue-url "https://sqs.ap-northeast-1.amazonaws.com/908725951096/test-que"
{
    "Messages": [
        {
            "Body": "Hello SQS", 
            "ReceiptHandle": "AQEB4iLvcY07X8Isxzg3x5r/NOuBsI5RHlklDx8XeA/z8QBeBRx6iVkcjPaZYqBs+p4bFmg7TioHKrmDwFTSI+pnLrqsuqvJQld+/s1+GlZQDvN1ZvFXz1+MwmeXCEd6SmFxu1IV718k5FCWKpX6FAER77ONlRQcb96LHIkTUpOKPk3f8QwpoYQRgCpXuLeZ7eLcccDw+AjnIBw8m7wsl2ABX6YGIYow/71QBqDuHEzLryop7YEGsdVeqevAwBgMd1Y9Ll/sFAgMD/YUkaG9aXEdphkfbVoDvVrCyjZVVhJtz0uxJ5ro13S0UA/Iie36FTiH92wiG6kOwxVyWyoUWMr7Ki3ohKkqyh1VTYWGVTbwLsKW6UMSZmMiSCE1PulpQQoYmcEV1pcEM0YzQRVuYulhBw==", 
            "MD5OfBody": "5cf7495f9a4dc80d179fe9f6f201b486", 
            "MessageId": "afff37da-e795-437a-8f7e-0cb70a7e419b"
        }
    ]
}
[ec2-user@ip-10-1-10-156 ~]$ sar
Linux 4.14.173-137.229.amzn2.x86_64 (ip-10-1-10-156.ap-northeast-1.compute.internal)    05/06/20        _x86_64_        (1 CPU)

00:00:01        CPU     %user     %nice   %system   %iowait    %steal     %idle
00:10:01        all      0.01      0.00      0.01      0.00      0.01     99.97
00:20:01        all      0.00      0.00      0.01      0.00      0.01     99.98
00:30:01        all      0.03      0.00      0.02      0.00      0.01     99.95
00:40:01        all      0.01      0.00      0.00      0.00      0.02     99.97
00:50:01        all      0.01      0.00      0.00      0.00      0.01     99.98
01:00:01        all      0.01      0.00      0.01      0.00      0.03     99.95
01:10:02        all      0.01      0.00      0.01      0.00      0.03     99.96
01:20:01        all      0.01      0.00      0.01      0.00      0.01     99.97
01:30:01        all      0.01      0.00      0.01      0.00      0.01     99.98
01:40:01        all      0.01      0.00      0.01      0.00      0.01     99.98
01:50:01        all      0.01      0.00      0.01      0.00      0.01     99.97

01:50:01        CPU     %user     %nice   %system   %iowait    %steal     %idle
02:00:01        all      0.01      0.00      0.00      0.00      0.00     99.99
02:10:01        all      0.01      0.00      0.01      0.00      0.01     99.97
02:20:01        all      0.03      0.00      0.03      0.00      0.01     99.93
02:30:01        all      0.01      0.00      0.00      0.00      0.01     99.98
02:40:01        all      0.01      0.00      0.01      0.00      0.01     99.98
02:50:01        all      0.01      0.00      0.01      0.00      0.01     99.97
03:00:01        all      0.03      0.00      0.02      0.00      0.01     99.94
03:10:01        all      0.03      0.00      0.02      0.00      0.02     99.94
03:20:01        all      0.01      0.00      0.01      0.00      0.01     99.97
03:30:01        all      0.03      0.00      0.02      0.00      0.01     99.95
03:40:01        all      0.00      0.00      0.01      0.00      0.01     99.98

03:40:01        CPU     %user     %nice   %system   %iowait    %steal     %idle
03:50:01        all      0.07      0.02      0.05      0.01      0.01     99.84
04:00:01        all      0.42      0.00      0.06      0.04      0.02     99.46
Average:        all      0.03      0.00      0.01      0.00      0.01     99.94
[ec2-user@ip-10-1-10-156 ~]$  sar 60 60 
Linux 4.14.173-137.229.amzn2.x86_64 (ip-10-1-10-156.ap-northeast-1.compute.internal)    05/06/20        _x86_64_        (1 CPU)

04:06:38        CPU     %user     %nice   %system   %iowait    %steal     %idle
04:07:38        all      0.00      0.00      0.00      0.00      0.02     99.98
04:08:38        all      0.00      0.00      0.00      0.00      0.00    100.00
^C

04:08:52        all      0.00      0.00      0.00      0.00      0.00    100.00
Average:        all      0.00      0.00      0.00      0.00      0.01     99.99
[ec2-user@ip-10-1-10-156 ~]$ vmstat 2
procs -----------memory---------- ---swap-- -----io---- -system-- ------cpu-----
 r  b   swpd   free   buff  cache   si   so    bi    bo   in   cs us sy id wa st
 0  0      0 748788   2088 185444    0    0     2     4   16   30  0  0 100  0  0
 0  0      0 748788   2088 185444    0    0     0     0   11   13  0  0 100  0  0
 0  0      0 748788   2088 185444    0    0     0     0   10   16  0  0 100  0  0
 0  0      0 748788   2088 185444    0    0     0     0    6    8  0  0 100  0  0
^C
[ec2-user@ip-10-1-10-156 ~]$ vmstat
procs -----------memory---------- ---swap-- -----io---- -system-- ------cpu-----
 r  b   swpd   free   buff  cache   si   so    bi    bo   in   cs us sy id wa st
 0  0      0 748680   2088 185436    0    0     2     4   16   30  0  0 100  0  0
[ec2-user@ip-10-1-10-156 ~]$ sar
Linux 4.14.173-137.229.amzn2.x86_64 (ip-10-1-10-156.ap-northeast-1.compute.internal)    05/06/20        _x86_64_        (1 CPU)

00:00:01        CPU     %user     %nice   %system   %iowait    %steal     %idle
00:10:01        all      0.01      0.00      0.01      0.00      0.01     99.97
00:20:01        all      0.00      0.00      0.01      0.00      0.01     99.98
00:30:01        all      0.03      0.00      0.02      0.00      0.01     99.95
00:40:01        all      0.01      0.00      0.00      0.00      0.02     99.97
00:50:01        all      0.01      0.00      0.00      0.00      0.01     99.98
01:00:01        all      0.01      0.00      0.01      0.00      0.03     99.95
01:10:02        all      0.01      0.00      0.01      0.00      0.03     99.96
01:20:01        all      0.01      0.00      0.01      0.00      0.01     99.97
01:30:01        all      0.01      0.00      0.01      0.00      0.01     99.98
01:40:01        all      0.01      0.00      0.01      0.00      0.01     99.98
01:50:01        all      0.01      0.00      0.01      0.00      0.01     99.97

01:50:01        CPU     %user     %nice   %system   %iowait    %steal     %idle
02:00:01        all      0.01      0.00      0.00      0.00      0.00     99.99
02:10:01        all      0.01      0.00      0.01      0.00      0.01     99.97
02:20:01        all      0.03      0.00      0.03      0.00      0.01     99.93
02:30:01        all      0.01      0.00      0.00      0.00      0.01     99.98
02:40:01        all      0.01      0.00      0.01      0.00      0.01     99.98
02:50:01        all      0.01      0.00      0.01      0.00      0.01     99.97
03:00:01        all      0.03      0.00      0.02      0.00      0.01     99.94
03:10:01        all      0.03      0.00      0.02      0.00      0.02     99.94
03:20:01        all      0.01      0.00      0.01      0.00      0.01     99.97
03:30:01        all      0.03      0.00      0.02      0.00      0.01     99.95
03:40:01        all      0.00      0.00      0.01      0.00      0.01     99.98

03:40:01        CPU     %user     %nice   %system   %iowait    %steal     %idle
03:50:01        all      0.07      0.02      0.05      0.01      0.01     99.84
04:00:01        all      0.42      0.00      0.06      0.04      0.02     99.46
04:10:01        all      0.01      0.00      0.01      0.00      0.01     99.97
Average:        all      0.03      0.00      0.01      0.00      0.01     99.94
[ec2-user@ip-10-1-10-156 ~]$ vmstat
procs -----------memory---------- ---swap-- -----io---- -system-- ------cpu-----
 r  b   swpd   free   buff  cache   si   so    bi    bo   in   cs us sy id wa st
 0  0      0 749000   2088 185436    0    0     2     4   16   30  0  0 100  0  0
[ec2-user@ip-10-1-10-156 ~]$ 


$ ssh -i "~/.ssh/test-elt-ec2.pem" ec2-user@3.112.15.20
The authenticity of host '3.112.15.20 (3.112.15.20)' can't be established.
ECDSA key fingerprint is SHA256:qX0bkb36l2f5iFjuOuhwMTnK2PmDrG1AOuVGsMNevuE.
Are you sure you want to continue connecting (yes/no)? yes
Warning: Permanently added '3.112.15.20' (ECDSA) to the list of known hosts.

       __|  __|_  )
       _|  (     /   Amazon Linux 2 AMI
      ___|\___|___|

https://aws.amazon.com/amazon-linux-2/
No packages needed for security; 4 packages available
Run "sudo yum update" to apply all updates.
[ec2-user@ip-10-1-10-156 ~]$ mysql -h database-1.cxhyds0avgup.ap-northeast-1.rds.amazonaws.com -u admin -p Welcome1
-bash: mysql: command not found
[ec2-user@ip-10-1-10-156 ~]$ sudo yum install  mysql56 mysql56-server
Loaded plugins: extras_suggestions, langpacks, priorities,
              : update-motd
amzn2-core                             | 2.4 kB     00:00     
No package mysql56 available.
No package mysql56-server available.
Error: Nothing to do
[ec2-user@ip-10-1-10-156 ~]$ mysql -h database-1.cxhyds0avgup.ap-northeast-1.rds.amazonaws.com -u admin -p Welcome1
-bash: mysql: command not found
[ec2-user@ip-10-1-10-156 ~]$ /usr/local/mysql/bin/mysql -h database-1.cxhyds0avgup.ap-northeast-1.rds.amazonaws.com -u admin -p Welcome1
-bash: /usr/local/mysql/bin/mysql: No such file or directory
[ec2-user@ip-10-1-10-156 ~]$ brew list | grep mysql
-bash: brew: command not found
[ec2-user@ip-10-1-10-156 ~]$ cd /user/local
-bash: cd: /user/local: No such file or directory
[ec2-user@ip-10-1-10-156 ~]$ /user/local/mysql/bin/mysql -h database-1.cxhyds0avgup.ap-northeast-1.rds.amazonaws.com -u admin -p Welcome1
-bash: /user/local/mysql/bin/mysql: No such file or directory
[ec2-user@ip-10-1-10-156 ~]$ sudo su -
[root@ip-10-1-10-156 ~]# /user/local/mysql/bin/mysql -h database-1.cxhyds0avgup.ap-northeast-1.rds.amazonaws.com -u admin -p Welcome1
-bash: /user/local/mysql/bin/mysql: No such file or directory
[root@ip-10-1-10-156 ~]# cd /user/local/-bash: cd: /user/local/: No such file or directory[root@ip-10-1-10-156 ~]# cd /user
-bash: cd: /user: No such file or directory
[root@ip-10-1-10-156 ~]# ls
[root@ip-10-1-10-156 ~]# ll
total 0
[root@ip-10-1-10-156 ~]# brew list | grep mysql
-bash: brew: command not found
[root@ip-10-1-10-156 ~]# sudo yum install  mysql56Loaded plugins: extras_suggestions, langpacks, priorities,
              : update-motd
No package mysql56 available.
Error: Nothing to do
[root@ip-10-1-10-156 ~]# mysql -v
-bash: mysql: command not found
[root@ip-10-1-10-156 ~]# mysql56 -v
-bash: mysql56: command not found
[root@ip-10-1-10-156 ~]# sudo yum install  mysql
Loaded plugins: extras_suggestions, langpacks, priorities,
              : update-motd
amzn2-core                             | 2.4 kB     00:00     
Resolving Dependencies
--> Running transaction check
---> Package mariadb.x86_64 1:5.5.64-1.amzn2 will be installed
--> Finished Dependency Resolution

Dependencies Resolved

==============================================================
 Package    Arch      Version             Repository     Size
==============================================================
Installing:
 mariadb    x86_64    1:5.5.64-1.amzn2    amzn2-core    9.0 M

Transaction Summary
==============================================================
Install  1 Package

Total download size: 9.0 M
Installed size: 49 M
Is this ok [y/d/N]: y
Downloading packages:
mariadb-5.5.64-1.amzn2.x86_64.rpm        | 9.0 MB   00:00     
Running transaction check
Running transaction test
Transaction test succeeded
Running transaction
  Installing : 1:mariadb-5.5.64-1.amzn2.x86_64            1/1 
  Verifying  : 1:mariadb-5.5.64-1.amzn2.x86_64            1/1 

Installed:
  mariadb.x86_64 1:5.5.64-1.amzn2                             

Complete!
[root@ip-10-1-10-156 ~]# 

[root@ip-10-1-10-156 ~]# mysql -h database-1.cxhyds0avgup.ap-northeast-1.rds.amazonaws.com -u admin -p Welcome1Enter password: 


^C
[root@ip-10-1-10-156 ~]# mysql -h database-1.cxhyds0avgup.ap-northeast-1.rds.amazonaws.com -u admin -p Welcome1
Enter password: 
ERROR 2003 (HY000): Can't connect to MySQL server on 'database-1.cxhyds0avgup.ap-northeast-1.rds.amazonaws.com' (110)


https://qiita.com/hibriiiiidge/items/aebcd4184c7ab4c83bdf


$ ssh -i "~/.ssh/test-elt-ec2.pem" ec2-user@13.231.202.136
The authenticity of host '13.231.202.136 (13.231.202.136)' can't be established.
ECDSA key fingerprint is SHA256:NQPgItqQNBAyyXCP+Is8iy+uC8viNLJMkpukAXDn4bg.
Are you sure you want to continue connecting (yes/no)? yes
Warning: Permanently added '13.231.202.136' (ECDSA) to the list of known hosts.

       __|  __|_  )
       _|  (     /   Amazon Linux 2 AMI
      ___|\___|___|

https://aws.amazon.com/amazon-linux-2/
[ec2-user@ip-10-0-0-142 ~]$ 
[ec2-user@ip-10-0-0-142 ~]$ 
[ec2-user@ip-10-0-0-142 ~]$ 
[ec2-user@ip-10-0-0-142 ~]$ mysql -h cm-aurora-instance-1.cxhyds0avgup.ap-northeast-1.rds.amazonaws.com -u admin -p Welcome1
-bash: mysql: command not found
[ec2-user@ip-10-0-0-142 ~]$ sudo su -
[root@ip-10-0-0-142 ~]# yum install  mysql56
Loaded plugins: extras_suggestions, langpacks,
              : priorities, update-motd
amzn2-core                        | 2.4 kB     00:00     
amzn2extra-docker                 | 1.8 kB     00:00     
(1/5): amzn2-core/2/x86_64/group_gz | 2.5 kB   00:00     
(2/5): amzn2-core/2/x86_64/updatein | 203 kB   00:00     
(3/5): amzn2extra-docker/2/x86_64/u |   69 B   00:00     
(4/5): amzn2extra-docker/2/x86_64/p |  65 kB   00:00     
(5/5): amzn2-core/2/x86_64/primary_ |  40 MB   00:00     
No package mysql56 available.
Error: Nothing to do
[root@ip-10-0-0-142 ~]# yum install  mysql
Loaded plugins: extras_suggestions, langpacks,
              : priorities, update-motd
Resolving Dependencies
--> Running transaction check
---> Package mariadb.x86_64 1:5.5.64-1.amzn2 will be installed
--> Finished Dependency Resolution

Dependencies Resolved

=========================================================
 Package  Arch    Version              Repository   Size
=========================================================
Installing:
 mariadb  x86_64  1:5.5.64-1.amzn2     amzn2-core  9.0 M

Transaction Summary
=========================================================
Install  1 Package

Total download size: 9.0 M
Installed size: 49 M
Is this ok [y/d/N]: 
Exiting on user command
Your transaction was saved, rerun it with:
 yum load-transaction /tmp/yum_save_tx.2020-04-29.14-16.F2UIcf.yumtx
[root@ip-10-0-0-142 ~]# mysql -h cm-aurora-instance-1.cxhyds0avgup.ap-northeast-1.rds.amazonaws.com -u admin -p Welcome1
-bash: mysql: command not found
[root@ip-10-0-0-142 ~]# yum install  mysqlLoaded plugins: extras_suggestions, langpacks,              : priorities, update-motd
Resolving Dependencies
--> Running transaction check
---> Package mariadb.x86_64 1:5.5.64-1.amzn2 will be installed
--> Finished Dependency Resolution

Dependencies Resolved

=========================================================
 Package  Arch    Version              Repository   Size
=========================================================
Installing:
 mariadb  x86_64  1:5.5.64-1.amzn2     amzn2-core  9.0 M

Transaction Summary
=========================================================
Install  1 Package

Total download size: 9.0 M
Installed size: 49 M
Is this ok [y/d/N]: y
Downloading packages:
mariadb-5.5.64-1.amzn2.x86_64.rpm   | 9.0 MB   00:00     
Running transaction check
Running transaction test
Transaction test succeeded
Running transaction
  Installing : 1:mariadb-5.5.64-1.amzn2.x86_64       1/1 
  Verifying  : 1:mariadb-5.5.64-1.amzn2.x86_64       1/1 

Installed:
  mariadb.x86_64 1:5.5.64-1.amzn2                        

Complete!
[root@ip-10-0-0-142 ~]# mysql -h cm-aurora-instance-1.cxhyds0avgup.ap-northeast-1.rds.amazonaws.com -u admin -p Welcome1
Enter password: 
ERROR 1049 (42000): Unknown database 'Welcome1'
[root@ip-10-0-0-142 ~]# 


lisa@Lisa:/mnt/c/github/runau/react/timer-app$ ssh -i "~/.ssh/test-elt-ec2.pem" ec2-user@13.231.83.101
The authenticity of host '13.231.83.101 (13.231.83.101)' can't be established.
ECDSA key fingerprint is SHA256:NQPgItqQNBAyyXCP+Is8iy+uC8viNLJMkpukAXDn4bg.
Are you sure you want to continue connecting (yes/no)? yes
Warning: Permanently added '13.231.83.101' (ECDSA) to the list of known hosts.
Last login: Wed Apr 29 15:04:41 2020 from softbank060126008221.bbtec.net

       __|  __|_  )
       _|  (     /   Amazon Linux 2 AMI      ___|\___|___|

https://aws.amazon.com/amazon-linux-2/
1 package(s) needed for security, out of 5 available
Run "sudo yum update" to apply all updates.
[ec2-user@ip-10-0-0-142 ~]$ ssh -i "~/.ssh/test-elt-ec2.pem" ec2-user@10.0.100.193
Warning: Identity file /home/ec2-user/.ssh/test-elt-ec2.pem not accessible: No such file or directory.
Permission denied (publickey,gssapi-keyex,gssapi-with-mic).
[ec2-user@ip-10-0-0-142 ~]$ vim ~/.ssh/test-elt-ec2.pem
[ec2-user@ip-10-0-0-142 ~]$ ssh -i "~/.ssh/test-elt-ec2.pem" ec2-user@10.0.100.193
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@         WARNING: UNPROTECTED PRIVATE KEY FILE!          @
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
Permissions 0664 for '/home/ec2-user/.ssh/test-elt-ec2.pem' are too open.
It is required that your private key files are NOT accessible by others.
This private key will be ignored.
Load key "/home/ec2-user/.ssh/test-elt-ec2.pem": bad permissions
Permission denied (publickey,gssapi-keyex,gssapi-with-mic).
[ec2-user@ip-10-0-0-142 ~]$ chmod 600 ~/.ssh/test-elt-ec2.pem[ec2-user@ip-10-0-0-142 ~]$ 
[ec2-user@ip-10-0-0-142 ~]$ chmod 600 ~/.ssh/test-elt-ec2.pem
[ec2-user@ip-10-0-0-142 ~]$ ssh -i "~/.ssh/test-elt-ec2.pem" ec2-user@10.0.100.193

       __|  __|_  )
       _|  (     /   Amazon Linux 2 AMI
      ___|\___|___|

https://aws.amazon.com/amazon-linux-2/
[ec2-user@ip-10-0-100-193 ~]$ sudo su -
[root@ip-10-0-100-193 ~]# yum install -y httpd
Loaded plugins: extras_suggestions, langpacks, priorities, update-motd

Could not retrieve mirrorlist http://amazonlinux.ap-northeast-1.amazonaws.com/2/core/latest/x86_64/mirror.list error was
12: Timeout on http://amazonlinux.ap-northeast-1.amazonaws.com/2/core/latest/x86_64/mirror.list: (28, 'Connection timed out after 5000 milliseconds')


 One of the configured repositories failed (Unknown),
 and yum doesn't have enough cached data to continue. At this point the only
 safe thing yum can do is fail. There are a few ways to work "fix" this:

     1. Contact the upstream for the repository and get them to fix the problem.

     2. Reconfigure the baseurl/etc. for the repository, to point to a working
        upstream. This is most often useful if you are using a newer
        distribution release than is supported by the repository (and the
        packages for the previous distribution release still work).

     3. Run the command with the repository temporarily disabled
            yum --disablerepo=<repoid> ...

     4. Disable the repository permanently, so yum won't use it by default. Yum
        will then just ignore the repository until you permanently enable it
        again or use --enablerepo for temporary usage:

            yum-config-manager --disable <repoid>
        or
            subscription-manager repos --disable=<repoid>

     5. Configure the failing repository to be skipped, if it is unavailable.
        Note that yum will try to contact the repo. when it runs most commands,
        so will have to try and fail each time (and thus. yum will be be much
        slower). If it is a very temporary problem though, this is often a nice
        compromise:

            yum-config-manager --save --setopt=<repoid>.skip_if_unavailable=true

Cannot find a valid baseurl for repo: amzn2-core/2/x86_64
[root@ip-10-0-100-193 ~]# 
[root@ip-10-0-100-193 ~]# exit
logout
[ec2-user@ip-10-0-100-193 ~]$ sudo yum install -y httpd
Loaded plugins: extras_suggestions, langpacks, priorities, update-motd
Could not retrieve mirrorlist http://amazonlinux.ap-northeast-1.amazonaws.com/2/core/latest/x86_64/mirror.list error was
12: Timeout on http://amazonlinux.ap-northeast-1.amazonaws.com/2/core/latest/x86_64/mirror.list: (28, 'Connection timed out after 5000 milliseconds')


 One of the configured repositories failed (Unknown),
 and yum doesn't have enough cached data to continue. At this point the only
 safe thing yum can do is fail. There are a few ways to work "fix" this:

     1. Contact the upstream for the repository and get them to fix the problem.

     2. Reconfigure the baseurl/etc. for the repository, to point to a working
        upstream. This is most often useful if you are using a newer
        distribution release than is supported by the repository (and the
        packages for the previous distribution release still work).

     3. Run the command with the repository temporarily disabled
            yum --disablerepo=<repoid> ...

     4. Disable the repository permanently, so yum won't use it by default. Yum
        will then just ignore the repository until you permanently enable it
        again or use --enablerepo for temporary usage:

            yum-config-manager --disable <repoid>
        or
            subscription-manager repos --disable=<repoid>

     5. Configure the failing repository to be skipped, if it is unavailable.
        Note that yum will try to contact the repo. when it runs most commands,
        so will have to try and fail each time (and thus. yum will be be much
        slower). If it is a very temporary problem though, this is often a nice
        compromise:

            yum-config-manager --save --setopt=<repoid>.skip_if_unavailable=true

Cannot find a valid baseurl for repo: amzn2-core/2/x86_64
[ec2-user@ip-10-0-100-193 ~]$ Connection to 10.0.100.193 closed by remote host.
Connection to 10.0.100.193 closed.
[ec2-user@ip-10-0-0-142 ~]$ ssh -i "~/.ssh/test-elt-ec2.pem" ec2-user@10.0.100.164
^C
[ec2-user@ip-10-0-0-142 ~]$ ssh -i "~/.ssh/test-elt-ec2.pem" ec2-user@10.0.101.164
The authenticity of host '10.0.101.164 (10.0.101.164)' can't be established.
ECDSA key fingerprint is SHA256:JOpZFjQ2IwQNiF6mxWXmlBpVUdHnCVSPnlKgLnWZNQI.
ECDSA key fingerprint is MD5:eb:6f:78:7b:76:30:fd:56:c6:52:4a:62:ad:df:91:d4.
Are you sure you want to continue connecting (yes/no)? yes
Warning: Permanently added '10.0.101.164' (ECDSA) to the list of known hosts.

       __|  __|_  )
       _|  (     /   Amazon Linux 2 AMI
      ___|\___|___|

https://aws.amazon.com/amazon-linux-2/
[ec2-user@ip-10-0-101-164 ~]$ sudo yum install -y httpd
Loaded plugins: extras_suggestions, langpacks, priorities, update-motd
Could not retrieve mirrorlist http://amazonlinux.ap-northeast-1.amazonaws.com/2/core/latest/x86_64/mirror.list error was
12: Timeout on http://amazonlinux.ap-northeast-1.amazonaws.com/2/core/latest/x86_64/mirror.list: (28, 'Connection timed out after 5000 milliseconds')


 One of the configured repositories failed (Unknown),
 and yum doesn't have enough cached data to continue. At this point the only
 safe thing yum can do is fail. There are a few ways to work "fix" this:

     1. Contact the upstream for the repository and get them to fix the problem.

     2. Reconfigure the baseurl/etc. for the repository, to point to a working
        upstream. This is most often useful if you are using a newer
        distribution release than is supported by the repository (and the
        packages for the previous distribution release still work).

     3. Run the command with the repository temporarily disabled
            yum --disablerepo=<repoid> ...

     4. Disable the repository permanently, so yum won't use it by default. Yum
        will then just ignore the repository until you permanently enable it
        again or use --enablerepo for temporary usage:

            yum-config-manager --disable <repoid>
        or
            subscription-manager repos --disable=<repoid>

     5. Configure the failing repository to be skipped, if it is unavailable.
        Note that yum will try to contact the repo. when it runs most commands,
        so will have to try and fail each time (and thus. yum will be be much
        slower). If it is a very temporary problem though, this is often a nice
        compromise:

            yum-config-manager --save --setopt=<repoid>.skip_if_unavailable=true

Cannot find a valid baseurl for repo: amzn2-core/2/x86_64
[ec2-user@ip-10-0-101-164 ~]$ sudo yum install -y httpd
Loaded plugins: extras_suggestions, langpacks, priorities, update-motd
amzn2-core                                      | 2.4 kB     00:00     
amzn2extra-docker                               | 1.8 kB     00:00     
(1/5): amzn2-core/2/x86_64/group_gz               | 2.5 kB   00:00     
(2/5): amzn2-core/2/x86_64/updateinfo             | 203 kB   00:00     
(3/5): amzn2extra-docker/2/x86_64/updateinfo      |   69 B   00:00     
(4/5): amzn2extra-docker/2/x86_64/primary_db      |  65 kB   00:00     
(5/5): amzn2-core/2/x86_64/primary_db             |  40 MB   00:00     
Resolving Dependencies
--> Running transaction check
---> Package httpd.x86_64 0:2.4.41-1.amzn2.0.1 will be installed
--> Processing Dependency: httpd-tools = 2.4.41-1.amzn2.0.1 for package: httpd-2.4.41-1.amzn2.0.1.x86_64
--> Processing Dependency: httpd-filesystem = 2.4.41-1.amzn2.0.1 for package: httpd-2.4.41-1.amzn2.0.1.x86_64
--> Processing Dependency: system-logos-httpd for package: httpd-2.4.41-1.amzn2.0.1.x86_64
--> Processing Dependency: mod_http2 for package: httpd-2.4.41-1.amzn2.0.1.x86_64
--> Processing Dependency: httpd-filesystem for package: httpd-2.4.41-1.amzn2.0.1.x86_64
--> Processing Dependency: /etc/mime.types for package: httpd-2.4.41-1.amzn2.0.1.x86_64
--> Processing Dependency: libaprutil-1.so.0()(64bit) for package: httpd-2.4.41-1.amzn2.0.1.x86_64
--> Processing Dependency: libapr-1.so.0()(64bit) for package: httpd-2.4.41-1.amzn2.0.1.x86_64
--> Running transaction check
---> Package apr.x86_64 0:1.6.3-5.amzn2.0.2 will be installed
---> Package apr-util.x86_64 0:1.6.1-5.amzn2.0.2 will be installed
--> Processing Dependency: apr-util-bdb(x86-64) = 1.6.1-5.amzn2.0.2 for package: apr-util-1.6.1-5.amzn2.0.2.x86_64
---> Package generic-logos-httpd.noarch 0:18.0.0-4.amzn2 will be installed
---> Package httpd-filesystem.noarch 0:2.4.41-1.amzn2.0.1 will be installed
---> Package httpd-tools.x86_64 0:2.4.41-1.amzn2.0.1 will be installed
---> Package mailcap.noarch 0:2.1.41-2.amzn2 will be installed
---> Package mod_http2.x86_64 0:1.15.3-2.amzn2 will be installed
--> Running transaction check
---> Package apr-util-bdb.x86_64 0:1.6.1-5.amzn2.0.2 will be installed
--> Finished Dependency Resolution

Dependencies Resolved

=======================================================================
 Package              Arch    Version                Repository   Size
=======================================================================
Installing:
 httpd                x86_64  2.4.41-1.amzn2.0.1     amzn2-core  1.3 M
Installing for dependencies:
 apr                  x86_64  1.6.3-5.amzn2.0.2      amzn2-core  118 k
 apr-util             x86_64  1.6.1-5.amzn2.0.2      amzn2-core   99 k
 apr-util-bdb         x86_64  1.6.1-5.amzn2.0.2      amzn2-core   19 k
 generic-logos-httpd  noarch  18.0.0-4.amzn2         amzn2-core   19 k
 httpd-filesystem     noarch  2.4.41-1.amzn2.0.1     amzn2-core   23 k
 httpd-tools          x86_64  2.4.41-1.amzn2.0.1     amzn2-core   87 k
 mailcap              noarch  2.1.41-2.amzn2         amzn2-core   31 k
 mod_http2            x86_64  1.15.3-2.amzn2         amzn2-core  146 k

Transaction Summary
=======================================================================
Install  1 Package (+8 Dependent packages)

Total download size: 1.8 M
Installed size: 5.1 M
Downloading packages:
(1/9): apr-util-1.6.1-5.amzn2.0.2.x86_64.rpm      |  99 kB   00:00     
(2/9): apr-1.6.3-5.amzn2.0.2.x86_64.rpm           | 118 kB   00:00     
(3/9): apr-util-bdb-1.6.1-5.amzn2.0.2.x86_64.rpm  |  19 kB   00:00     
(4/9): generic-logos-httpd-18.0.0-4.amzn2.noarch. |  19 kB   00:00     
(5/9): httpd-filesystem-2.4.41-1.amzn2.0.1.noarch |  23 kB   00:00     
(6/9): httpd-tools-2.4.41-1.amzn2.0.1.x86_64.rpm  |  87 kB   00:00     
(7/9): mailcap-2.1.41-2.amzn2.noarch.rpm          |  31 kB   00:00     
(8/9): httpd-2.4.41-1.amzn2.0.1.x86_64.rpm        | 1.3 MB   00:00     
(9/9): mod_http2-1.15.3-2.amzn2.x86_64.rpm        | 146 kB   00:00     
-----------------------------------------------------------------------
Total                                     9.1 MB/s | 1.8 MB  00:00     
Running transaction check
Running transaction test
Transaction test succeeded
Running transaction
  Installing : apr-1.6.3-5.amzn2.0.2.x86_64                        1/9 
  Installing : apr-util-bdb-1.6.1-5.amzn2.0.2.x86_64               2/9 
  Installing : apr-util-1.6.1-5.amzn2.0.2.x86_64                   3/9 
  Installing : httpd-tools-2.4.41-1.amzn2.0.1.x86_64               4/9 
  Installing : generic-logos-httpd-18.0.0-4.amzn2.noarch           5/9 
  Installing : mailcap-2.1.41-2.amzn2.noarch                       6/9 
  Installing : httpd-filesystem-2.4.41-1.amzn2.0.1.noarch          7/9 
  Installing : mod_http2-1.15.3-2.amzn2.x86_64                     8/9 
  Installing : httpd-2.4.41-1.amzn2.0.1.x86_64                     9/9 
  Verifying  : apr-util-1.6.1-5.amzn2.0.2.x86_64                   1/9 
  Verifying  : apr-util-bdb-1.6.1-5.amzn2.0.2.x86_64               2/9 
  Verifying  : httpd-2.4.41-1.amzn2.0.1.x86_64                     3/9 
  Verifying  : httpd-filesystem-2.4.41-1.amzn2.0.1.noarch          4/9 
  Verifying  : mod_http2-1.15.3-2.amzn2.x86_64                     5/9 
  Verifying  : apr-1.6.3-5.amzn2.0.2.x86_64                        6/9 
  Verifying  : mailcap-2.1.41-2.amzn2.noarch                       7/9 
  Verifying  : generic-logos-httpd-18.0.0-4.amzn2.noarch           8/9 
  Verifying  : httpd-tools-2.4.41-1.amzn2.0.1.x86_64               9/9 

Installed:
  httpd.x86_64 0:2.4.41-1.amzn2.0.1                                    

Dependency Installed:
  apr.x86_64 0:1.6.3-5.amzn2.0.2                                       
  apr-util.x86_64 0:1.6.1-5.amzn2.0.2                                  
  apr-util-bdb.x86_64 0:1.6.1-5.amzn2.0.2                              
  generic-logos-httpd.noarch 0:18.0.0-4.amzn2                          
  httpd-filesystem.noarch 0:2.4.41-1.amzn2.0.1                         
  httpd-tools.x86_64 0:2.4.41-1.amzn2.0.1                              
  mailcap.noarch 0:2.1.41-2.amzn2                                      
  mod_http2.x86_64 0:1.15.3-2.amzn2                                    

Complete!
[ec2-user@ip-10-0-101-164 ~]$ httpd -v
Server version: Apache/2.4.41 ()
Server built:   Oct 22 2019 22:59:04
[ec2-user@ip-10-0-101-164 ~]$ systemctl start httpd
Failed to start httpd.service: The name org.freedesktop.PolicyKit1 was not provided by any .service files
See system logs and 'systemctl status httpd.service' for details.
[ec2-user@ip-10-0-101-164 ~]$ sudo systemctl start httpd
[ec2-user@ip-10-0-101-164 ~]$ systemctl status httpd
● httpd.service - The Apache HTTP Server
   Loaded: loaded (/usr/lib/systemd/system/httpd.service; disabled; vendor preset: disabled)
   Active: active (running) since Thu 2020-04-30 08:42:25 UTC; 11s ago
     Docs: man:httpd.service(8)
 Main PID: 3588 (httpd)
   Status: "Total requests: 0; Idle/Busy workers 100/0;Requests/sec: 0; Bytes served/sec:   0 B/sec"
   CGroup: /system.slice/httpd.service
           ├─3588 /usr/sbin/httpd -DFOREGROUND
           ├─3589 /usr/sbin/httpd -DFOREGROUND
           ├─3590 /usr/sbin/httpd -DFOREGROUND
           ├─3591 /usr/sbin/httpd -DFOREGROUND
           ├─3592 /usr/sbin/httpd -DFOREGROUND
           └─3593 /usr/sbin/httpd -DFOREGROUND

Apr 30 08:42:25 ip-10-0-101-164.ap-northeast-1.compute.internal systemd[1]: ...
Apr 30 08:42:25 ip-10-0-101-164.ap-northeast-1.compute.internal systemd[1]: ...
Hint: Some lines were ellipsized, use -l to show in full.
[ec2-user@ip-10-0-101-164 ~]$ sudo systemctl stop httpd
[ec2-user@ip-10-0-101-164 ~]$ systemctl status httpd
● httpd.service - The Apache HTTP Server
   Loaded: loaded (/usr/lib/systemd/system/httpd.service; disabled; vendor preset: disabled)
   Active: inactive (dead)
     Docs: man:httpd.service(8)

Apr 30 08:42:25 ip-10-0-101-164.ap-northeast-1.compute.internal systemd[1]: ...
Apr 30 08:42:25 ip-10-0-101-164.ap-northeast-1.compute.internal systemd[1]: ...
Apr 30 08:42:47 ip-10-0-101-164.ap-northeast-1.compute.internal systemd[1]: ...
Apr 30 08:42:48 ip-10-0-101-164.ap-northeast-1.compute.internal systemd[1]: ...
Hint: Some lines were ellipsized, use -l to show in full.
[ec2-user@ip-10-0-101-164 ~]$ chkconfig httpd on
Note: Forwarding request to 'systemctl enable httpd.service'.
Failed to execute operation: The name org.freedesktop.PolicyKit1 was not provided by any .service files
[ec2-user@ip-10-0-101-164 ~]$ sudo chkconfig httpd on
Note: Forwarding request to 'systemctl enable httpd.service'.
Created symlink from /etc/systemd/system/multi-user.target.wants/httpd.service to /usr/lib/systemd/system/httpd.service.
[ec2-user@ip-10-0-101-164 ~]$ chkconfig --list httpd

Note: This output shows SysV services only and does not include native
      systemd services. SysV configuration data might be overridden by native
      systemd configuration.

      If you want to list systemd services use 'systemctl list-unit-files'.
      To see services enabled on particular target use
      'systemctl list-dependencies [target]'.

error reading information on service httpd: No such file or directory
[ec2-user@ip-10-0-101-164 ~]$ chkconfig --list

Note: This output shows SysV services only and does not include native
      systemd services. SysV configuration data might be overridden by native
      systemd configuration.

      If you want to list systemd services use 'systemctl list-unit-files'.
      To see services enabled on particular target use
      'systemctl list-dependencies [target]'.

netconsole      0:off   1:off   2:off   3:off   4:off   5:off   6:off
network         0:off   1:off   2:on    3:on    4:on    5:on    6:off
[ec2-user@ip-10-0-101-164 ~]$ systemctl list-unit-files
UNIT FILE                                     STATE   
proc-sys-fs-binfmt_misc.automount             static  
dev-hugepages.mount                           static  
dev-mqueue.mount                              static  
proc-fs-nfsd.mount                            static  
proc-sys-fs-binfmt_misc.mount                 static  
sys-fs-fuse-connections.mount                 static  
sys-kernel-config.mount                       static  
sys-kernel-debug.mount                        static  
tmp.mount                                     disabled
var-lib-nfs-rpc_pipefs.mount                  static  
brandbot.path                                 enabled 
systemd-ask-password-console.path             static  
systemd-ask-password-plymouth.path            static  
systemd-ask-password-wall.path                static  
session-1.scope                               static  
session-5.scope                               static  
acpid.service                                 enabled 
amazon-ssm-agent.service                      enabled 
arp-ethers.service                            disabled
atd.service                                   enabled 
auditd.service                                enabled 
auth-rpcgss-module.service                    static  
autovt@.service                               enabled 
blk-availability.service                      disabled
brandbot.service                              static  
chrony-dnssrv@.service                        static  
chrony-wait.service                           disabled
chronyd.service                               enabled 
cloud-config.service                          enabled 
cloud-final.service                           enabled 
cloud-init-local.service                      enabled 
cloud-init.service                            enabled 
console-getty.service                         disabled
console-shell.service                         disabled
container-getty@.service                      static  
crond.service                                 enabled 
dbus-org.freedesktop.hostname1.service        static  
dbus-org.freedesktop.import1.service          static  
dbus-org.freedesktop.locale1.service          static  
dbus-org.freedesktop.login1.service           static  
dbus-org.freedesktop.machine1.service         static  
dbus-org.freedesktop.timedate1.service        static  
dbus.service                                  static  
debug-shell.service                           disabled
dm-event.service                              static  
dmraid-activation.service                     enabled 
dracut-cmdline.service                        static  
dracut-initqueue.service                      static  
dracut-mount.service                          static  
dracut-pre-mount.service                      static  
dracut-pre-pivot.service                      static  
dracut-pre-trigger.service                    static  
dracut-pre-udev.service                       static  
dracut-shutdown.service                       static  
ec2-instance-connect.service                  enabled 
ec2net-ifup@.service                          static  
ec2net-scan.service                           disabled
emergency.service                             static  
fstrim.service                                static  
getty@.service                                enabled 
gssproxy.service                              disabled
halt-local.service                            static  
hibagent.service                              disabled
hibinit-agent.service                         enabled 
htcacheclean.service                          static  
httpd.service                                 enabled 
initrd-cleanup.service                        static  
initrd-parse-etc.service                      static  
initrd-switch-root.service                    static  
initrd-udevadm-cleanup-db.service             static  
irqbalance.service                            enabled 
kmod-static-nodes.service                     static  
kpatch.service                                disabled
libstoragemgmt.service                        enabled 
lvm2-lvmetad.service                          static  
lvm2-lvmpolld.service                         static  
lvm2-monitor.service                          enabled 
lvm2-pvscan@.service                          static  
mdadm-grow-continue@.service                  static  
mdadm-last-resort@.service                    static  
mdmon@.service                                static  
mdmonitor.service                             enabled 
messagebus.service                            static  
microcode.service                             enabled 
nfs-blkmap.service                            disabled
nfs-config.service                            static  
nfs-idmap.service                             static  
nfs-idmapd.service                            static  
nfs-lock.service                              static  
nfs-mountd.service                            static  
nfs-rquotad.service                           disabled
nfs-secure.service                            static  
nfs-server.service                            disabled
nfs-utils.service                             static  
nfs.service                                   disabled
nfslock.service                               static  
plymouth-halt.service                         disabled
plymouth-kexec.service                        disabled
plymouth-poweroff.service                     disabled
plymouth-quit-wait.service                    disabled
plymouth-quit.service                         disabled
plymouth-read-write.service                   disabled
plymouth-reboot.service                       disabled
plymouth-start.service                        disabled
plymouth-switch-root.service                  static  
postfix.service                               enabled 
psacct.service                                disabled
quotaon.service                               static  
rc-local.service                              static  
rdisc.service                                 disabled
rescue.service                                static  
rhel-autorelabel-mark.service                 enabled 
rhel-autorelabel.service                      enabled 
rhel-configure.service                        enabled 
rhel-dmesg.service                            enabled 
rhel-domainname.service                       enabled 
rhel-import-state.service                     enabled 
rhel-loadmodules.service                      enabled 
rhel-readonly.service                         enabled 
rngd.service                                  enabled 
rpc-gssd.service                              static  
rpc-rquotad.service                           disabled
rpc-statd-notify.service                      static  
rpc-statd.service                             static  
rpcbind.service                               enabled 
rpcgssd.service                               static  
rpcidmapd.service                             static  
rsyncd.service                                disabled
rsyncd@.service                               static  
rsyslog.service                               enabled 
selinux-policy-migrate-local-changes@.service static  
serial-getty@.service                         disabled
sshd-keygen.service                           static  
sshd.service                                  enabled 
sshd@.service                                 static  
sysstat.service                               enabled 
systemd-ask-password-console.service          static  
systemd-ask-password-plymouth.service         static  
systemd-ask-password-wall.service             static  
systemd-backlight@.service                    static  
systemd-binfmt.service                        static  
systemd-bootchart.service                     disabled
systemd-firstboot.service                     static  
systemd-fsck-root.service                     static  
systemd-fsck@.service                         static  
systemd-halt.service                          static  
systemd-hibernate-resume@.service             static  
systemd-hibernate.service                     static  
systemd-hostnamed.service                     static  
systemd-hwdb-update.service                   static  
systemd-hybrid-sleep.service                  static  
systemd-importd.service                       static  
systemd-initctl.service                       static  
systemd-journal-catalog-update.service        static  
systemd-journal-flush.service                 static  
systemd-journald.service                      static  
systemd-kexec.service                         static  
systemd-localed.service                       static  
systemd-logind.service                        static  
systemd-machine-id-commit.service             static  
systemd-machined.service                      static  
systemd-modules-load.service                  static  
systemd-nspawn@.service                       disabled
systemd-poweroff.service                      static  
systemd-quotacheck.service                    static  
systemd-random-seed.service                   static  
systemd-readahead-collect.service             enabled 
systemd-readahead-done.service                indirect
systemd-readahead-drop.service                enabled 
systemd-readahead-replay.service              enabled 
systemd-reboot.service                        static  
systemd-remount-fs.service                    static  
systemd-rfkill@.service                       static  
systemd-shutdownd.service                     static  
systemd-suspend.service                       static  
systemd-sysctl.service                        static  
systemd-timedated.service                     static  
systemd-tmpfiles-clean.service                static  
systemd-tmpfiles-setup-dev.service            static  
systemd-tmpfiles-setup.service                static  
systemd-udev-settle.service                   static  
systemd-udev-trigger.service                  static  
systemd-udevd.service                         static  
systemd-update-done.service                   static  
systemd-update-utmp-runlevel.service          static  
systemd-update-utmp.service                   static  
systemd-user-sessions.service                 static  
systemd-vconsole-setup.service                static  
teamd@.service                                static  
update-motd.service                           enabled 
-.slice                                       static  
machine.slice                                 static  
system.slice                                  static  
user-0.slice                                  static  
user-1000.slice                               static  
user.slice                                    static  
dbus.socket                                   static  
dm-event.socket                               enabled 
httpd.socket                                  disabled
lvm2-lvmetad.socket                           enabled 
lvm2-lvmpolld.socket                          enabled 
rpcbind.socket                                enabled 
rsyncd.socket                                 disabled
sshd.socket                                   disabled
syslog.socket                                 static  
systemd-initctl.socket                        static  
systemd-journald.socket                       static  
systemd-shutdownd.socket                      static  
systemd-udevd-control.socket                  static  
systemd-udevd-kernel.socket                   static  
basic.target                                  static  
bluetooth.target                              static  
cloud-config.target                           static  
cloud-init.target                             static  
cryptsetup-pre.target                         static  
cryptsetup.target                             static  
ctrl-alt-del.target                           disabled
default.target                                enabled 
emergency.target                              static  
final.target                                  static  
getty-pre.target                              static  
getty.target                                  static  
graphical.target                              enabled 
halt.target                                   disabled
hibernate.target                              static  
hybrid-sleep.target                           static  
initrd-fs.target                              static  
initrd-root-fs.target                         static  
initrd-switch-root.target                     static  
initrd.target                                 static  
kexec.target                                  disabled
local-fs-pre.target                           static  
local-fs.target                               static  
machines.target                               disabled
multi-user.target                             static  
network-online.target                         static  
network-pre.target                            static  
network.target                                static  
nfs-client.target                             enabled 
nss-lookup.target                             static  
nss-user-lookup.target                        static  
paths.target                                  static  
poweroff.target                               disabled
printer.target                                static  
reboot.target                                 disabled
remote-cryptsetup.target                      disabled
remote-fs-pre.target                          static  
remote-fs.target                              enabled 
rescue.target                                 disabled
rpc_pipefs.target                             static  
rpcbind.target                                static  
runlevel0.target                              disabled
runlevel1.target                              disabled
runlevel2.target                              static  
runlevel3.target                              static  
runlevel4.target                              static  
runlevel5.target                              enabled 
runlevel6.target                              disabled
shutdown.target                               static  
sigpwr.target                                 static  
sleep.target                                  static  
slices.target                                 static  
smartcard.target                              static  
sockets.target                                static  
sound.target                                  static  
suspend.target                                static  
swap.target                                   static  
sysinit.target                                static  
system-update.target                          static  
time-sync.target                              static  
timers.target                                 static  
umount.target                                 static  
chrony-dnssrv@.timer                          disabled
fstrim.timer                                  disabled
mdadm-last-resort@.timer                      static  
systemd-readahead-done.timer                  indirect
systemd-tmpfiles-clean.timer                  static  

277 unit files listed.
[ec2-user@ip-10-0-101-164 ~]$ 
[ec2-user@ip-10-0-101-164 ~]$ ^C
[ec2-user@ip-10-0-101-164 ~]$ systemctl list-unit-files httpd
UNIT FILE STATE

0 unit files listed.
[ec2-user@ip-10-0-101-164 ~]$ sudo systemctl httpd on
Unknown operation 'httpd'.
[ec2-user@ip-10-0-101-164 ~]$ systemctl list-unit-files httpd
UNIT FILE STATE

0 unit files listed.
[ec2-user@ip-10-0-101-164 ~]$ 
[ec2-user@ip-10-0-101-164 ~]$ 
[ec2-user@ip-10-0-101-164 ~]$ systemctl enable httpd.service
Failed to execute operation: The name org.freedesktop.PolicyKit1 was not provided by any .service files
[ec2-user@ip-10-0-101-164 ~]$ su
Password: 
[ec2-user@ip-10-0-101-164 ~]$ sudo systemctl enable httpd.service
[ec2-user@ip-10-0-101-164 ~]$ systemctl list-unit-files httpd
UNIT FILE STATE

0 unit files listed.
[ec2-user@ip-10-0-101-164 ~]$ systemctl list-unit-files httpd.service
UNIT FILE     STATE  
httpd.service enabled

1 unit files listed.
[ec2-user@ip-10-0-101-164 ~]$ 